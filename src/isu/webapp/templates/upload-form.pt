<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      metal:use-macro="main.macros['page']">

    <tal:block metal:fill-slot="header-meta">
      <link rel="stylesheet" href="/static/upload/css/doc-load.css">

    </tal:block>

    <tal:block metal:fill-slot="content">
      <h2 tal:content="view.title">File upload</h2>
      <div id="dragandrophandler">Drag & Drop Files Here</div>
      <br/><br/>
      <div id="status1"></div>
      <br/><br/>
      <div id="doc_table" class="panel panel-default" ></div>
    </tal:block>

  <tal:block metal:fill-slot="script-src">
    <script id="script-data"
      tal:attributes="data-upload_url request.route_url('upload');
                      data-doc_url request.route_url('get-docs')">
      var uploadUrl=$("#script-data").data('upload_url');
      var docsUrl=$("#script-data").data('doc_url');
      var doc_load_setup={
        uploadUrl:uploadUrl,
        docsUrl:docsUrl,
        htmlReady:function(data){
          $("#doc_table").html(data);
        }
      };
    </script>
    <script type="text/javascript"
            src="/static/upload/js/doc-load-script.js"></script>
  </tal:block>
</html>
