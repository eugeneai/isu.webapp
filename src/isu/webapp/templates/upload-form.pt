<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      metal:use-macro="main.macros['page']">

    <tal:block metal:fill-slot="header-meta">
        <style>
          /* Font Definitions */
          #dragandrophandler
          {
              border:4px dotted #0B85A1;
              width:600px;
              height:100px;
              color:#92AAB0;
              text-align:center;vertical-align:middle;
              padding:10px 10px 10px 10px;
              margin-bottom:10px;
              font-size:200%;
          }
          .progressBar {
              width: 200px;
              height: 22px;
              border: 1px solid #ddd;
              border-radius: 5px;
              overflow: hidden;
              display:inline-block;
              margin:0px 10px 5px 5px;
              vertical-align:top;
          }

          .progressBar div {
              height: 100%;
              color: #fff;
              text-align: right;
              line-height: 22px; /* same as #progressBar height if we want text middle aligned */
              width: 0;
              background-color: #0ba1b5; border-radius: 3px;
          }
          .statusbar
          {
              border-top:1px solid #A9CCD1;
              min-height:25px;
              width:700px;
              padding:10px 10px 0px 10px;
              vertical-align:top;
          }
          .statusbar:nth-child(odd){
              background:#EBEFF0;
          }
          .filename
          {
              display:inline-block;
              vertical-align:top;
              width:250px;
          }
          .filesize
          {
              display:inline-block;
              vertical-align:top;
              color:#30693D;
              width:100px;
              margin-left:10px;
              margin-right:5px;
          }
          .abort{
              background-color:#A8352F;
              -moz-border-radius:4px;
              -webkit-border-radius:4px;
              border-radius:4px;display:inline-block;
              color:#fff;
              font-family:arial;font-size:13px;font-weight:normal;
              padding:4px 15px;
              cursor:pointer;
              vertical-align:top
          }
        </style>
    </tal:block>

    <tal:block metal:fill-slot="content">
      <h2 tal:content="view.title">File upload</h2>
      <div id="dragandrophandler">Drag & Drop Files Here</div>
      <br/><br/>
      <div id="status1"></div>
      <br/><br/>
      <div id="doc_table" class="panel panel-default" ></div>
    </tal:block>

  <tal:block metal:fill-slot="script-src">
    <script id="script-data"
      tal:attributes="data-upload_url request.route_url('upload');
                      data-doc_url request.route_url('get-docs')">
      var uploadUrl=$("#script-data").data('upload_url');
      var docsUrl=$("#script-data").data('doc_url');
      var doc_load_setup={
        uploadUrl:uploadUrl,
        docsUrl:docsUrl,
        htmlReady:function(data){
          $("#doc_table").html(data);
        }
      };
    </script>
    <script type="text/javascript"
            src="/local/js/doc-load-script.js"></script>
  </tal:block>
</html>
